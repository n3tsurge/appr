# =============================================================================
# AppR Backend – Environment Variable Reference
# Copy this file to .env and fill in real values. Never commit .env to git.
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false

# -----------------------------------------------------------------------------
# Database (PostgreSQL via asyncpg)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://appr:appr@localhost:5432/appr
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Security – JWT RS256
# Generate a key pair with:
#   openssl genrsa -out private.pem 2048
#   openssl rsa -in private.pem -pubout -out public.pem
# Then paste the PEM content below (use \n for newlines in .env files).
# -----------------------------------------------------------------------------
SECRET_KEY=change-me-to-a-random-64-char-hex-string
JWT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nREPLACE_WITH_REAL_RS256_PRIVATE_KEY\n-----END RSA PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nREPLACE_WITH_REAL_RS256_PUBLIC_KEY\n-----END PUBLIC KEY-----"
JWT_ALGORITHM=RS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Okta SSO (optional)
# -----------------------------------------------------------------------------
OKTA_DOMAIN=dev-000000.okta.com
OKTA_CLIENT_ID=0oa000000000000000x7
OKTA_CLIENT_SECRET=REPLACE_WITH_OKTA_CLIENT_SECRET

# -----------------------------------------------------------------------------
# Generic OIDC (optional – use instead of or alongside Okta)
# -----------------------------------------------------------------------------
OIDC_ISSUER=https://accounts.example.com
OIDC_CLIENT_ID=REPLACE_WITH_OIDC_CLIENT_ID
OIDC_CLIENT_SECRET=REPLACE_WITH_OIDC_CLIENT_SECRET

# -----------------------------------------------------------------------------
# SAML 2.0 (optional)
# -----------------------------------------------------------------------------
SAML_SP_ENTITY_ID=https://appr.example.com/saml/metadata
SAML_IDP_METADATA_URL=https://idp.example.com/saml/metadata
SAML_SP_ACS_URL=https://appr.example.com/api/v1/auth/saml/acs
SAML_SP_SLS_URL=https://appr.example.com/api/v1/auth/saml/sls

# -----------------------------------------------------------------------------
# Auth toggles
# -----------------------------------------------------------------------------
AUTH_SSO_ENABLED=true
AUTH_LOCAL_ENABLED=true

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
# json for production log aggregation, console for local development
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Observability – OpenTelemetry / New Relic
# -----------------------------------------------------------------------------
NEW_RELIC_LICENSE_KEY=REPLACE_WITH_NR_LICENSE_KEY
OTEL_EXPORTER_OTLP_ENDPOINT=https://otlp.nr-data.net:4317
OTEL_SERVICE_NAME=app-inventory

# -----------------------------------------------------------------------------
# Multi-tenancy
# -----------------------------------------------------------------------------
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001
